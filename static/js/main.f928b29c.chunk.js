(window["webpackJsonpgoit-react-hw-03-image-finder"]=window["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],[,function(e,t,a){e.exports={photoCard:"PhotoCard_photoCard__3bgV7",stats:"PhotoCard_stats__nYXXi",statsItem:"PhotoCard_statsItem__33ME7",fullscreenButton:"PhotoCard_fullscreenButton__1bD9d"}},,,,,,function(e,t,a){e.exports={fullscreenButton:"modal_fullscreenButton__3t-Ub",photoCard:"modal_photoCard__32_3c"}},function(e,t,a){e.exports={app:"styles_app__c-xFM",ButtonLoadMore:"styles_ButtonLoadMore__2Z0gx"}},,,function(e,t,a){e.exports={searchForm:"SearchForm_searchForm__12H_N"}},function(e,t,a){e.exports={gallery:"Gallery_gallery__1r2FY"}},,,function(e,t,a){e.exports=a(20)},,,,,function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(10),c=a.n(o),l=a(2),i=a(3),s=a(5),u=a(4),m=a(6),h=a(14),d=a(8),p=a.n(d),g=a(11),y=a.n(g),f=function(e){var t=e.submit,a=e.onChange,n=e.currentValue;return r.a.createElement("form",{className:y.a.searchForm,onSubmit:t},r.a.createElement("input",{onChange:a,autoComplete:"off",type:"text",id:"search",value:n,placeholder:"Search images..."}))};f.defaultProps={currentValue:""};var E=f,_=a(12),b=a.n(_),w=a(1),x=a.n(w),v=a(13),C=a(7),N=a.n(C),S=function(e){var t=e.imgSrc;return r.a.createElement(v.a,{trigger:r.a.createElement("button",{type:"button",className:N.a.fullscreenButton},r.a.createElement("i",{className:"material-icons"},"zoom_out_map")),modal:!0},r.a.createElement("div",{className:N.a.modal},r.a.createElement("div",{className:N.a.content},r.a.createElement("img",{src:t,alt:"",style:{width:"100%",height:"100%"}}))))},I=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={},a.myRef=r.a.createRef(),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.gallery;return r.a.createElement("div",{className:x.a.photoCard},r.a.createElement("img",{src:e.webformatURL,alt:""}),r.a.createElement("div",{className:x.a.stats},r.a.createElement("p",{className:x.a.statsItem},r.a.createElement("i",{className:"material-icons"},"thumb_up"),e.likes),r.a.createElement("p",{className:x.a.statsItem},r.a.createElement("i",{className:"material-icons"},"visibility"),e.views),r.a.createElement("p",{className:x.a.statsItem},r.a.createElement("i",{className:"material-icons"},"comment"),e.comments),r.a.createElement("p",{className:x.a.statsItem},r.a.createElement("i",{className:"material-icons"},"cloud_download"),e.downloads)),r.a.createElement("button",{type:"button",className:x.a.fullscreenButton,ref:this.myRef.current},r.a.createElement("i",{className:"material-icons"},"zoom_out_map")),r.a.createElement(S,{imgSrc:e.largeImageURL}))}}]),t}(n.Component),L=function(e){var t=e.galleryAll;return r.a.createElement("ul",{className:b.a.gallery},t.map((function(e){return r.a.createElement(I,{key:e.id,gallery:(t=e,{id:t.id,webformatURL:t.webformatURL,largeImageURL:t.largeImageURL,likes:t.likes,views:t.views,comments:t.comments,downloads:t.downloads})});var t})))},k="13763847-a3cc8fed0077a45dfa7a2db6f",F="https://pixabay.com/api/?image_type=photo&orientation=horizontal&page=1&per_page=8&key=".concat(k),j=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).hundelChangeInput=function(t){e.setState({currentInput:t.target.value})},e.hundleSubmitForm=function(e){e.preventDefault()},e.hundleButtonLoadMoreClick=function(){e.setState((function(e){return{perPageCount:e.perPageCount+8}}))},e.state={currentInput:"",gallery:[],error:"",isLoading:!0,isFindGallery:!1,perPageCount:8},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isFindGallery:!0}),fetch(F).then((function(e){return e.json()})).then((function(t){e.setState({gallery:t.hits})})).catch((function(t){return e.setState({error:t})})).finally((function(){return e.setState({isLoading:!1})}))}},{key:"componentDidUpdate",value:function(e,t){var a=this,n=this.state,r=n.currentInput,o=n.perPageCount;if(t.currentInput!==r||t.perPageCount!==o){t.currentInput!==r&&this.setState({perPageCount:8}),this.setState({isFindGallery:!1});var c="https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=".concat(r,"&page=1&per_page=").concat(o,"&key=").concat(k);fetch(c).then((function(e){return e.json()})).then((function(e){a.setState({gallery:e.hits}),e.hits.length>0&&a.setState({isFindGallery:!0}),window.scrollTo("0",document.body.scrollHeight)})).catch((function(e){return a.setState({error:e})})).finally((function(){return a.setState({isLoading:!1})}))}}},{key:"render",value:function(){var e=this.state,t=e.currentInput,a=e.gallery,n=e.error,o=e.isLoading,c=e.isFindGallery;return r.a.createElement("section",{className:p.a.app},r.a.createElement(E,{submit:this.hundleSubmitForm,onChange:this.hundelChangeInput,currentValue:t}),n&&r.a.createElement("p",null,"Whoops, something went wrong: ",n.message),a.length>0&&r.a.createElement(L,{galleryAll:a}),!c&&r.a.createElement("p",null,"Nothing found on your request..."),o&&r.a.createElement("div",null,r.a.createElement(h.a,null,r.a.createElement("rect",{x:"20",y:"0",rx:"5",ry:"5",width:"80",height:"80"}),r.a.createElement("rect",{x:"20",y:"84",rx:"4",ry:"4",width:"50",height:"7"}),r.a.createElement("rect",{x:"20",y:"93",rx:"3",ry:"3",width:"60",height:"7"}),r.a.createElement("rect",{x:"120",y:"0",rx:"5",ry:"5",width:"80",height:"80"}),r.a.createElement("rect",{x:"120",y:"84",rx:"4",ry:"4",width:"50",height:"7"}),r.a.createElement("rect",{x:"120",y:"93",rx:"3",ry:"3",width:"60",height:"7"}),r.a.createElement("rect",{x:"220",y:"0",rx:"5",ry:"5",width:"80",height:"80"}),r.a.createElement("rect",{x:"220",y:"84",rx:"4",ry:"4",width:"50",height:"7"}),r.a.createElement("rect",{x:"220",y:"93",rx:"3",ry:"3",width:"60",height:"7"}),r.a.createElement("rect",{x:"320",y:"0",rx:"5",ry:"5",width:"80",height:"80"}),r.a.createElement("rect",{x:"320",y:"84",rx:"4",ry:"4",width:"50",height:"7"}),r.a.createElement("rect",{x:"320",y:"93",rx:"3",ry:"3",width:"60",height:"7"}))),r.a.createElement("button",{className:p.a.ButtonLoadMore,type:"button",onClick:this.hundleButtonLoadMoreClick},"Load More"))}}]),t}(r.a.Component);c.a.render(r.a.createElement(j,null),document.getElementById("root"))}],[[15,1,2]]]);
//# sourceMappingURL=main.f928b29c.chunk.js.map